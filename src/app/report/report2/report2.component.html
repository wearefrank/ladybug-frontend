<as-split direction="horizontal">
  <as-split-area class="split-size" [size]="25">
    <app-debug-tree
      [adjustWidth]="treeWidth.asObservable()"
      [currentView]="currentView"
      (closeEntireTreeEvent)="closeEntireTree()"
      (selectReportEvent)="selectReport($event)"
    />
  </as-split-area>
  <as-split-area class="right-side" [size]="75">
    @if (state.reportState) {
      <ng-container *ngTemplateOutlet="shownReport"/>
    }
    @if (state.checkpointState) {
      <ng-container *ngTemplateOutlet="shownCheckpoint"/>
    }
  </as-split-area>
</as-split>

<ng-template #shownReport>
  <div [style.height]="monacoEditorHeight + 'px'">
    <app-monaco-editor
      data-cy-element-name="reportEditor"
      (onInit)="initEditor()"
      [options]="monacoOptions"
      [requestedEditorContents]="state.reportState!.initialMonacoEditorText"
      (actualEditorContentsChange)="onMonacoEditorContentChange($event)"
      [requestedReadOnly]="requestedMonacoReadOnly">
    </app-monaco-editor>
  </div>
</ng-template>

<ng-template #shownCheckpoint>
  <div [style.height]="monacoEditorHeight + 'px'">
    <app-monaco-editor
      data-cy-element-name="checkpointEditor"
      (onInit)="initEditor()"
      [options]="monacoOptions"
      [requestedEditorContents]="state.checkpointState!.initialMonacoEditorText"
      (actualEditorContentsChange)="onMonacoEditorContentChange($event)"
      [requestedReadOnly]="requestedMonacoReadOnly">
    </app-monaco-editor>
  </div>
</ng-template>